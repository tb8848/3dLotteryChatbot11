
<!DOCTYPE html>
<html  class="notie">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="copyright" content="Copyright 版权所有" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="renderer" content="webkit" />
    <base target="_self" />
    <title>【福彩3D】</title>
    <link rel="stylesheet" href="../css/style-Permutation5.css" media="all">
    <link rel="stylesheet" href="../css/A-P5.css" media="all">

    <link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
    <link rel="stylesheet" href="../css/3603d/reset.css" />
    <link rel="stylesheet" href="../css/3603d/i6fzam.css" />
    <link rel="stylesheet" href="../css/3603d/mod.caiz.css" />
    <link rel="stylesheet" href="../css/3603d/mod.mv.css" />
    <link rel="stylesheet" href="../css/3603d/tools_infor.css" />
    <style>

        #doc3{
            width:800px !important;
        }

        .article-main-bd img{
            width:100%;
        }

        .mod-select-bolls{
            margin:0 30px
        }

        .mod-select-bolls .boll-item-col3 .t{
            width:260px
        }
        .t-1 td{
            border:1px solid #e2e2e2;
        }
    </style>
</head>
<body style="overflow: auto">


<table style="width: 100%">
    <tr>
        <td  style="text-align: left;width: 800px" valign="top">
            <div id="stopBuy" style="margin:10px;width: 800px;height: 300px;line-height:300px;text-align: center;display: none">
                <div>
                    <div class="mod-cz-bd">
                        <div class="grid-1 clearfix">
                            <div class="article" style="width: 800px">
                                <div class="plays_box">
                                    <h2 style="font-size: 30px;font-weight: bolder;" id="openStatusDesc">已停盘</h2>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div id="doc3" style="margin:10px">
                <div id="bd">
                    <div class="mod-cz-bd">
                        <div class="nav-cz-sub" style="padding:5px 0 6px 11px">
                            <ul class="clearfix" id="plays">
                                <li class="active" desc="Z6|组六" maxplay=""  combo="" id="lm-4"><a href="#">组六</a></li>
                            </ul>
                        </div>
                        <div class="grid-1 clearfix">
                            <div class="article" style="width: 800px">
                                <div class="plays_box">
                                    <div class="mod-select-filter zx_plays" id="lm-4-ls">
                                        <label style="position: relative;display: inline-block">
                                            <input checked="checked" type="radio" autocomplete="off" name="z6" desc="zx" value="1" onclick="changeLsType(this,1)"><span>普通</span></label>
                                        <label style="position: relative;display: inline-block">
                                            <input  type="radio" autocomplete="off" name="z6" desc="dt" value="2" onclick="changeLsType(this,2)"><span>胆拖</span></label>
                                        <label style="position: relative;display: inline-block">
                                            <input type="radio" autocomplete="off"  name="z6" desc="hz" value="3" onclick="changeLsType(this,3)"><span>和值</span></label>
                                        <!--                            <label style="position: relative;display: inline-block">-->
                                        <!--                                <input type="radio" autocomplete="off"  name="z6" desc="paste" value="4" onclick="changeLsType(this,4)"><span>粘贴号码</span></label>-->
                                    </div>

                                    <div id="lm-plays-4" class="plays">

                                        <div class="zx-type" desc="zx" id="lm-plays-4-1">

                                            <div class="mod-select-info">
                                                <p class="plays-memo"><i class="ico ico-info-s"></i><b>玩法提示：</b>
                                                    <span>选号与奖号相同（顺序不限）即<em class="red">中奖</em></span> 中奖示例：选号168 186 618 681 861 816 奖号168</p>
                                            </div>
                                            <div class="mod-select-bolls">
                                                <div class="hd">
                                                    <h3 class="clearfix">
                                                        <span class="t1"><em>选号区</em>每位至少选择1个号码</span><span class="t2"><em>操作区</em>快捷选号</span>
                                                    </h3>
                                                </div>
                                                <div class="bd">
                                                    <div class="boll-item boll-item-col3" unselectable="on" onselectstart="return false;">
                                                        <div class="k">
                                                            <span class="k1">号码<span class="caret"></span></span>
                                                            <!--                                                <span class="k2">遗漏</span>-->
                                                        </div>
                                                        <div class="v">
                                                            <div class="boll-list" unselectable="on" onselectstart="return false;">
                                                                <ul class="clearfix">
                                                                    <li><em class="btn-boll" onclick="selectBall(this,0,'')" num="0">0</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,1,'')" num="1">1</em><span class="red" ></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,2,'')" num="2">2</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,3,'')" num="3">3</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,4,'')" num="4">4</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,5,'')" num="5">5</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,6,'')" num="6">6</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,7,'')" num="7">7</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,8,'')" num="8">8</em><span></span></li>
                                                                    <li><em class="btn-boll" onclick="selectBall(this,9,'')" num="9">9</em><span></span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="t">
                                                            <div class="tool-list">
                                                                <ul class="clearfix dxjo">
                                                                    <li><a href="javascript:void(0)" class="btn btn-middle" onclick="selectBall(this,10,'')" num="10">全</a></li>
                                                                    <li><a href="javascript:void(0)" class="btn btn-middle" onclick="selectBall(this,12,'')" num="12">大</a></li>
                                                                    <li><a href="javascript:void(0)" class="btn btn-middle" onclick="selectBall(this,11,'')" num="11">小</a></li>
                                                                    <li><a href="javascript:void(0)" class="btn btn-middle" onclick="selectBall(this,55,'')" num="55">奇</a></li>
                                                                    <li><a href="javascript:void(0)" class="btn btn-middle" onclick="selectBall(this,44,'')" num="44">偶</a></li>
                                                                    <li><a href="javascript:void(0)" class="lnk" onclick="clearBall(this,'')">清除</a></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="ft">
                                                    <p class="sel_info">您选了 <b>0</b> 注</p>
                                                </div>

                                            </div>
                                        </div>

                                        <div id="lm-plays-4-2" class="zx-type" style="display: none" desc="dt">
                                            <div class="mod-select-info">
                                                <p class="plays-memo" id="dt_sm"><i class="ico ico-info-s"></i>
                                                    <b>玩法提示：</b><span>选1～2个胆码、1～9个拖码，胆码加拖码不少于3个；选号与奖号相同（顺序不限），即<em class="red">中奖</em></span></p>
                                            </div>
                                            <div class="mod-select-bolls">
                                                <div class="hd" style="text-align: left;margin-left: 42px;">
                                                    <h3 class="clearfix">
                                                        <span class="t1 dt_sel_tips" style="text-align: left"><em>胆码区</em>最多选择两个号码</span>
                                                    </h3>
                                                </div>
                                                <div class="bd">
                                                    <div class="tools-boll-list">
                                                        <div class="boll-item boll-item-col3 sd_dt">
                                                            <div class="k">
                                                                <span class="k1">号码<span class="caret"></span></span>
                                                                <span class="k2"><!--遗漏--></span>
                                                            </div>
                                                            <div class="v">
                                                                <div class="boll-list" unselectable="on" onselectstart="return false;">
                                                                    <ul class="clearfix">
                                                                        <li><em class="btn-boll" onclick="selectBall(this,0,'dm')" num="0" id="z6-dm-0">0</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,1,'dm')" num="1" id="z6-dm-1">1</em><span class="red" ></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,2,'dm')" num="2" id="z6-dm-2">2</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,3,'dm')" num="3" id="z6-dm-3">3</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,4,'dm')" num="4" id="z6-dm-4">4</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,5,'dm')" num="5" id="z6-dm-5">5</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,6,'dm')" num="6" id="z6-dm-6">6</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,7,'dm')" num="7" id="z6-dm-7">7</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,8,'dm')" num="8" id="z6-dm-8">8</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,9,'dm')" num="9" id="z6-dm-9">9</em><span></span></li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="t">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="hd" style="text-align: left;margin-left: 42px;">
                                                    <h3 class="clearfix">
                                                        <span class="t1" style="text-align: left"><em>拖码区</em>至少选择1个号码</span>
                                                    </h3>
                                                </div>
                                                <div class="bd">
                                                    <div class="tools-boll-list">
                                                        <div class="boll-item boll-item-col3 sd_dt">
                                                            <div class="k k1-hide">
                                                                <span class="k1">拖码<span class="caret"></span></span>
                                                                <span class="k2"></span>
                                                            </div>
                                                            <div class="v">
                                                                <div class="boll-list" unselectable="on" onselectstart="return false;">
                                                                    <ul class="clearfix">
                                                                        <li><em class="btn-boll" onclick="selectBall(this,0,'tm')" num="0" id="z6-tm-0">0</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,1,'tm')" num="1" id="z6-tm-1">1</em><span class="red" ></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,2,'tm')" num="2" id="z6-tm-2">2</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,3,'tm')" num="3" id="z6-tm-3">3</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,4,'tm')" num="4" id="z6-tm-4">4</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,5,'tm')" num="5" id="z6-tm-5">5</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,6,'tm')" num="6" id="z6-tm-6">6</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,7,'tm')" num="7" id="z6-tm-7">7</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,8,'tm')" num="8" id="z6-tm-8">8</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectBall(this,9,'tm')" num="9" id="z6-tm-9">9</em><span></span></li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="t">
                                                                <div class="tool-list">
                                                                    <ul class="clearfix dxjo">
                                                                        <li><a href="#" class="btn btn-middle dt-qb" onclick="selectAllTCode()">拖码全包</a></li>
                                                                        <li><a href="#" class="lnk dt-qb-clr" onclick="clearBall(this,'')">清除</a></li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="ft">
                                                    <p class="sel_info">您选了 <b>0</b> 注</p>
                                                </div>

                                            </div>
                                        </div>

                                        <div id="lm-plays-4-3" class="zx-type" style="display: none" desc="hz">
                                            <div class="mod-select-info">
                                                <p class="plays-memo"><i class="ico ico-info-s"></i><b>玩法提示：</b>
                                                    <span>所选号码和开奖号码之和相同，且开奖号各不相同时，即<em class="red">中奖</em></span></p>
                                            </div>
                                            <div class="mod-select-bolls">
                                                <div class="hd">
                                                    <h3 class="clearfix">
                                                        <span class="t1"><em>选号区</em>至少选择1个号码</span>
                                                    </h3>
                                                </div>
                                                <div class="bd">
                                                    <div class="tools-boll-list">
                                                        <div class="boll-item boll-item-col2">
                                                            <div class="k">
                                                                <span class="k1">号码<span class="caret"></span></span>
                                                                <span class="k2"><!--遗漏 --></span>
                                                            </div>
                                                            <div class="v">
                                                                <div class="boll-list" unselectable="on" onselectstart="return false;">
                                                                    <ul class="clearfix" id="hz_sel2">
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="3">3</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="4">4</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="5">5</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="6">6</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="7">7</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="8">8</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="9">9</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="10">10</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="11">11</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="12">12</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="13">13</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="14">14</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="15">15</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="16">16</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="17">17</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="18">18</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="19">19</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="20">20</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="21">21</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="22">22</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="23">23</em><span></span></li>
                                                                        <li><em class="btn-boll" onclick="selectHz(this)" num="24">24</em><span></span></li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="ft">
                                                    <p class="sel_info">您选了 <b>0</b> 注</p>
                                                </div>

                                            </div>

                                        </div>

                                        <div id="lm-plays-4-4" class="zx-type" style="display: none" desc="paste">
                                            <div class="mod-select-info">
                                                <p class="plays-memo"><i class="ico ico-info-s"></i><b>玩法提示：</b><span>所选方案中的单式号码与开奖号码相同（顺序不限）即中<em class="red">346</em>元</span></p>
                                            </div>

                                            <div class="mod-upload">
                                                <h3>选号须知：</h3>
                                                <ul class="tipsZ6">
                                                    <li>1、粘贴将按照3位数进行自动截取单式，如：粘贴号码为123456，将截取为123，456两注单式号码</li>
                                                    <li>2、中英文、符号等非法字符，系统将自动滤除</li>
                                                </ul>
                                            </div>
                                            <div class="mod-select-result mod-select-result-isupload mod-textarea-result-copy">
                                                <div class="bd clearfix">
                                                    <div class="result">
                                                        <div class="content">
                                                            <textarea class="textarea textarea-wlarge textarea-hlarge paste-code"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                    </div>


                                    <div class="mod-select-result">
                                        <div class="panel panel-t9 none" id="cd_list_try" style="position:absolute; bottom: 143px;right: 58px;width: 130px;cursor: pointer;_overflow: hidden;">
                                            <div class="panel-content">
                                                <div class="bd">
                                                    <p>手气不错，机选一注试试</p>
                                                </div>
                                            </div>
                                            <span class="sd"></span>
                                        </div>
                                        <div class="hd confirm_sel_code_list" style="margin-left: 200px;text-align: left;">
                                            <button type="button" class="btn" id="confirm_sel_code"><span class="btn-large btn-slt-ok"><i class="l"><i class="r">确认选号</i></i></span></button>
                                            <a href="javascript:void(0)" class="lnk lnk-calcel" onclick="clearAllBall()">清空选号</a>
                                        </div>
                                        <div class="bd clearfix">
                                            <div class="result">
                                                <div class="content" >
                                                    <ul class="clearfix codelist" id="codelist">
                                                        <!--                                            <li class="" codes="Z1|234,3,3">-->
                                                        <!--                                                <span class="del" count="3">删除</span>-->
                                                        <!--                                                <span class="modi" count="3">修改</span>-->
                                                        <!--                                                <div class="code">-->
                                                        <!--                                                    <b>直选复式</b><b class="em">234,3,3</b>  [3注]</div>-->
                                                        <!--                                            </li>-->
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="qkmethod">
                                                <ul plays="Z1|直选">
                                                    <li><a class="btn-middle" count="1" href="javascript:void(0)" onclick="robotChoose(1)">机选1注</a></li>
                                                    <li><a class="btn-middle" count="5" href="javascript:void(0)" onclick="robotChoose(5)">机选5注</a></li>
                                                    <li><a class="btn-middle" count="10" href="javascript:void(0)" onclick="robotChoose(10)">机选10注</a></li>
                                                    <li><a class="btn-middle" count="0" href="javascript:void(0)" onclick="clearList()">清空列表</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mod-select-result" id="result">
                                    <div class="ft">
                                        <div class="total">
                                            您选了 <b class="em" id="count">0</b> 注，下注金额 <input class="text" id="buyMoney" type="text" value="" style="width: 80px;height: 30px" autocomplete="off" maxlength="6"> 元，共 <b class="em" id="money">0</b> 元
                                        </div>
                                        <div style="text-align: center">
                                            <button type="button" class="btn" id="confirm_buy"><span class="btn-large btn-slt-ok">确认下注</span></button>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <!-- 中奖说明}} -->
                        </div>
                    </div>
                </div>
            </div>
            <style>
                .home-newser p {
                    display: none
                }

                .home-newser ul {
                    float: none
                }

                .home-newser li {
                    width: 100%
                }
            </style>
            </div>

        </td>
        <td style="text-align: left;padding-top:10px;width: calc(100% - 800px)" valign="top">

            <div class="bd m5" style="margin-bottom: 10px">
                <div class="div_print " id="betlackPrint">
                    <table class="t-1 tc" style="width:100%">
                        <thead>
                        <tr class="title-bar">
                            <td colspan="4" class="print_action" i18n="kuaida.current.stopBuyCodes">目前停押号码</td>
                        </tr>
                        <tr class="bg2">
                            <td width="50%">方案</td>
                            <td width="15%">号码</td>
                            <td width="15%">金额</td>
                            <td width="20%">时间</td>
                            <!--                            <td width="10%"><label>-->
                            <!--                                <span i18n="kuaida.selectAll">全选</span>-->
                            <!--                                <input type="checkbox" id="selectAll_lack" class="checkbox"></label> -->
                            <!--                            </td> -->
                        </tr>
                        </thead>
                        <tbody id="tbody_lack" class="tc">
                        <!--                                    <tr><td colspan="3" class="blank_area"></td></tr>-->
                        <!--                                    <tr> <td colspan="3" class="fb tfoot"> 笔数:0&nbsp;&nbsp;总金额:0 </td></tr>-->
                        </tbody>
                        <tfoot>
                        <tr> <td colspan="4" class="fb tfoot">
                            <span i18n="kuaida.bishu">笔数:</span><span  id="stopBuy-bishu">0</span>&nbsp;&nbsp;
                            <span i18n="kuaida.totalMoney">总金额:</span><span  id="stopBuy-totalMoney">0</span></td></tr>
                        <tr class="hide" id="stopBuy-pageRow">
                            <td colspan="4" class="fb tfoot" style="text-align: center">
                                <a href="javascript:void(0)" class="btn-common" id="stopBuy-prevPage" i18n="kuaida.prevPage">上一页</a>
                                &nbsp;&nbsp;
                                <span id="stopBuy-currpage">0</span>&nbsp;/&nbsp;<span id="stopBuy-pages">0</span>
                                &nbsp;&nbsp;
                                <a href="javascript:void(0)" class="btn-common" id="stopBuy-nextPage" i18n="kuaida.nextPage">下一页</a>
                            </td>
                        </tr>
                        </tfoot>
                    </table>

                </div>
            </div>

            <div class="bd m5 module">
                <table class="t-1 tc table_bg">
                    <thead>
                    <tr class="title-bar"> <td colspan="8" class="tc">下注框</td> </tr>
                    <!--                    <tr class="mod-cz-bd nav-cz-sub active"><td colspan="8" class="tc">下注框</td></tr>-->
                    <tr class="bg3">
                        <td width="7%">彩种</td>
                        <td width="20%">方案</td>
                        <td width="20%">注单编号</td>
                        <td width="8%">号码</td>
                        <td width="14%">赔率</td>
                        <td width="10%">金额</td>
                        <td width="7%">状态</td>
                        <td class="align-checkbox-wrap print_area" width="14%">
                            <label class="align-checkbox">
                                <span>全选</span><input type="checkbox" id="selectAll" class="checkbox">
                            </label>
                            <input type="button" value="退码" class="btn-common fn-cancelbet" id="cancelbet">
                        </td>
                    </tr>
                    </thead>
                    <tbody id="tbody"></tbody>
                </table>
            </div>
        </td>
    </tr>
</table>

<!-- 保存方案}} -->

<script src="../js/jquery/jquery.min.js"></script>
<script src="../js/jquery.i18n.min.js"></script>
<script src="../js/layui/layui.all.js"></script>
<script src="../js/multi_lang_config.js"></script>
<script src="../js/token.js"></script>
<script src="../js/config.js"></script>
<script src="../js/kuaixuan-3d.js"></script>
<script src="../js/projects/validate.js"></script>

<script type="text/javascript">
    var $ = layui.$;
    var lmId = 4;
    var lsType = 1;
    var totalAmount = 0;
    var totalMoney  = 0;
    var allCodesArr=[];

    var rules = {
        "zu6":{
            "pt":{
                bai:'',
                totals:0,
                codeList:[]
            },
            "hz":{
                sums:[],
                totals:0
            },
            "dt":{
              dm:'',
              tm:'',
              totals:0,
              allTCode:0,
              codeList:[]
            },
            'paste':{
                multiCodes:[]
            }
        }
    }

    var selectList = [];

    window.onload=function(){
        parent.window.frameLoad();
        allCodesArr = create3DCodes();
        //initBuyList();
        getData();
    }

    function clearList(){
        selectList = [];
        upSelectList();
    }

    //刷新选号列表
    function upSelectList(){
        if(selectList.length>0){
            var html = "";
            for(var i=0;i<selectList.length;i++){
                var item = selectList[i];
                var na = item.huizongName;
                var codes = item.value;
                var buyAmount = item.buyAmount;
                var li = '<li class="" codes="Z1|234,3,3">'+
                    '<span class="del" count="3" onclick="delSelect(\''+item.uuid+'\')">删除</span>'+
                    '<div class="code">'+
                    '<b>'+na+'</b><b class="em">'+codes+'</b>  ['+buyAmount+'注]</div>'+
                '</li>'
                html+=li;
            }
            $("#codelist").html(html);
        }else{
            $("#codelist").html("");
        }
        sumTotalMoney();
    }

    function delSelect(uuid) { //删除
        if(selectList.length>0){
            var newList = [];
            for(var i=0;i<selectList.length;i++) {
                var item = selectList[i];
                if(item.uuid!=uuid){
                    newList.push(item);
                }
            }
            selectList = newList;
            upSelectList();
        }
    }

    //切换小玩法
    function changeLsType(domThis,lsTypeId) {
        lsType = lsTypeId;
        $(domThis).parent("label").siblings().find(":radio").attr("checked",false);
        $("#lm-plays-"+lmId+"-"+lsTypeId).show();
        $("#lm-plays-"+lmId+"-"+lsTypeId).siblings().hide();
    }

    //选择球
    function selectBall(domThis,ballNum,loc) {
        if(lsType==1) {//普通
            __pt(domThis,ballNum,loc,false);
        }
        if(lsType==2) {//胆拖
            __dt(domThis,ballNum,loc,false);
        }
    }

    function selectHz(domThis) {
        __hz(domThis,false);
    }

    function __pt(domThis,ballNum,loc,isClear){
        var playId = "lm-plays-" + lmId + "-" + lsType;
        var locIdx = 0;
        if(isClear){
            $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
                $(this).removeClass("btn-boll-active")
            })
            rules.zu6.pt.bai="";
        }else{
            switch (ballNum) {
                case 10://全部
                case 11: //小
                case 12: //大
                case 44: //偶
                case 55: //奇
                    $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
                        $(this).removeClass("btn-boll-active")
                    })
                    $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
                        var num = $(this).attr("num");
                        if(ballNum==10) {
                            $(this).is(".btn-boll-active") ? $(this).removeClass("btn-boll-active") : $(this).addClass("btn-boll-active");
                        }else if(ballNum==11){
                            if(eval(num)<5){
                                $(this).is(".btn-boll-active") ? $(this).removeClass("btn-boll-active") : $(this).addClass("btn-boll-active");
                            }else{
                                $(this).removeClass("btn-boll-active")
                            }
                        }else if(ballNum==12){
                            if(eval(num)>4){
                                $(this).is(".btn-boll-active") ? $(this).removeClass("btn-boll-active") : $(this).addClass("btn-boll-active");
                            }else{
                                $(this).removeClass("btn-boll-active")
                            }
                        }else if(ballNum==44){
                            if(eval(num)%2==0){
                                $(this).is(".btn-boll-active") ? $(this).removeClass("btn-boll-active") : $(this).addClass("btn-boll-active");
                            }else{
                                $(this).removeClass("btn-boll-active")
                            }
                        }else if(ballNum==55){
                            if(eval(num)%2==1){
                                $(this).is(".btn-boll-active") ? $(this).removeClass("btn-boll-active") : $(this).addClass("btn-boll-active");
                            }else{
                                $(this).removeClass("btn-boll-active")
                            }
                        }
                    })
                    break;
                default:
                    $(domThis).is(".btn-boll-active") ? $(domThis).removeClass("btn-boll-active") : $(domThis).addClass("btn-boll-active");
                    break;
            }
        }

        rules.zu6.pt.bai = "";
        $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
            var num = $(this).attr("num");
            if($(this).is(".btn-boll-active")){
                if(locIdx==0){rules.zu6.pt.bai+=num}
            }
        });

        if(rules.zu6.pt.bai!=""){
            var clist = Z6Code(rules.zu6.pt.bai);
            rules.zu6.pt.codeList = clist;
            rules.zu6.pt.totals=clist.length;
        }else{
            rules.zu6.pt.codeList = [];
            rules.zu6.pt.totals=0;
        }
        $("#"+playId).find(".sel_info").eq(0).find("b").eq(0).html(rules.zu6.pt.totals);
        sumTotalMoney();

    }

    //胆拖
    function __dt(domThis,ballNum,loc,isClear){
        var playId = "lm-plays-" + lmId + "-" + lsType;
        var locIdx = 0;
        if(loc=='dm'){
            locIdx=0;
        }else if(loc=='tm'){
            locIdx=1;
        }
        if(isClear){
            if(locIdx==1){ //清除拖码
                $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
                    $(this).removeClass("btn-boll-active")
                })
                rules.zu6.dt.tm='';
                rules.zu6.dt.codeList=[];
                rules.zu6.dt.totals=0;
                $("#"+playId).find(".sel_info").eq(0).find("b").eq(0).html(rules.zu6.dt.totals);
            }
        }else{
            $(domThis).is(".btn-boll-active") ? $(domThis).removeClass("btn-boll-active") : $(domThis).addClass("btn-boll-active");
            if(locIdx==0){
                //选择的是胆码
                if( $(domThis).is(".btn-boll-active")){
                    if(rules.zu6.dt.dm.length==2){
                        layer.alert("最多选2个胆码");
                        $(domThis).removeClass("btn-boll-active")
                        return;
                    }
                }
                rules.zu6.dt.dm = "";
                $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
                    if($(this).is(".btn-boll-active")){
                        var num = $(this).attr("num");
                        rules.zu6.dt.dm+=num
                    }
                });
                if(rules.zu6.dt.dm.length>0){
                    var dm = rules.zu6.dt.dm.split("");
                    var tm = rules.zu6.dt.tm.split("");
                    if(tm.length>0) {//拖码有值
                        dm.forEach((num,ii)=>{
                            if (tm.includes(num)) {
                                //拖码中包含胆码，清除拖码中的胆码
                                tm.splice(tm.indexOf(num),1);
                                rules.zu6.dt.tm = tm.join("");
                                $("#z6-tm-"+num).removeClass("btn-boll-active")
                            }
                        })
                    }
                }
            }else if(locIdx==1){
                rules.zu6.dt.tm = "";
                //选择的是拖码
                $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
                    if($(this).is(".btn-boll-active")){
                        var num = $(this).attr("num");
                        rules.zu6.dt.tm+=num
                    }
                });
                if(rules.zu6.dt.tm.length>0){
                    var dm = rules.zu6.dt.dm.split("");
                    var tm = rules.zu6.dt.tm.split("");
                    if(dm.length>0) { //胆码有值
                        dm.forEach((num,ii)=>{
                            if (tm.includes(num)) {
                                //拖码中包含胆码，清除拖码中的胆码
                                dm.splice(dm.indexOf(num),1);
                                rules.zu6.dt.dm = dm.join("");
                                $("#z6-dm-"+num).removeClass("btn-boll-active")
                            }
                        })
                    }
                }
            }
        }

        if(rules.zu6.dt.tm.length>0){
            var clist = dtCode(rules.zu6.dt.dm,rules.zu6.dt.tm);
            rules.zu6.dt.codeList = clist;
            rules.zu6.dt.totals=clist.length;
        }else{
            rules.zu6.dt.codeList = [];
            rules.zu6.dt.totals=0;
        }
        $("#"+playId).find(".sel_info").eq(0).find("b").eq(0).html(rules.zu6.dt.totals);
        sumTotalMoney();

    }

    //拖码全包
    function selectAllTCode(){
        var playId = "lm-plays-" + lmId + "-" + lsType;
        var locIdx = 1;
        rules.zu6.dt.tm = "";
        $("#" + playId).find(".boll-item-col3").eq(locIdx).find(".boll-list>ul>li>em").each(function (i) {
            $(this).addClass("btn-boll-active")
            var num = $(this).attr("num");
            rules.zu6.dt.tm+=num
        });
        var dm =  rules.zu6.dt.dm;
        var tm =  rules.zu6.dt.tm;
        var clist = dtCode(dm,tm);
        rules.zu6.dt.codeList = clist;
        rules.zu6.dt.totals=clist.length;

        $("#"+playId).find(".sel_info").eq(0).find("b").eq(0).html(rules.zu6.dt.totals);
        sumTotalMoney();
    }

    //和值
    function __hz(domThis,isClear){
        var playId = "lm-plays-" + lmId + "-" + lsType;
        if(isClear){
            $("#hz_sel2").find("li>em").each(function (i) {
                $(this).removeClass("btn-boll-active")
            })
            return;
        }
        var hz = $(domThis).attr("num"); //和值
        $(domThis).is(".btn-boll-active") ? $(domThis).removeClass("btn-boll-active") : $(domThis).addClass("btn-boll-active");
        if($(domThis).is(".btn-boll-active")){
            if(!rules.zu6.hz.sums.includes(hz)){
                rules.zu6.hz.sums.push(hz);
            }
        }else{
            if(rules.zu6.hz.sums.includes(hz)){
                rules.zu6.hz.sums.splice(rules.zu6.hz.sums.indexOf(hz),1);
            }
        }
        if(rules.zu6.hz.sums.length>0){
            if(allCodesArr.length<1){
                allCodesArr = create3DCodes();
            }
            var buyCodes = [];
            rules.zu6.hz.sums.forEach((hz,idx)=>{
                allCodesArr.forEach((obj,idx1)=>{
                    //按三字现的号码规则，且三个号码各不相同
                    var arr = [obj.bai,obj.shi,obj.ge];
                    arr.sort(function (n1,n2) {
                        return n1-n2;
                    });
                    var code = arr.join("");
                    if(arr[0]!=arr[1] && arr[1]!=arr[2]){
                        if(obj.sum == parseInt(hz) && !buyCodes.includes(code)){
                            buyCodes.push(code);
                        }
                    }
                })
            })
            rules.zu6.hz.totals = buyCodes.length;
        }else{
            rules.zu6.hz.totals = 0;
        }
        $("#"+playId).find(".sel_info").eq(0).find("b").eq(0).html(rules.zu6.hz.totals);
        sumTotalMoney();
    }

    //清除
    function clearBall(domThis,loc){
        switch(lsType){
            case 1:
                __pt(domThis,null,loc,true);
                break;
            case 2:
                __dt(domThis,null,'tm',true);
                break;
            case 3:
                _hz(domThis,true);
                break;
        }
    }

    //确认选号
    $("#confirm_sel_code").on("click","",function(e){
        switch(lsType){
            case 1:
                if(rules.zu6.pt.bai!=""){
                    if(rules.zu6.pt.bai.length<3){
                        layer.alert("请至少选择3个号码");
                        return false;
                    }
                    if(rules.zu6.pt.codeList.length>0){
                        rules.zu6.pt.codeList.forEach((code,idx)=>{
                            var arr = code.split("");
                            selectList.push({
                                uuid:guid(),
                                huizongName:'组六单式',
                                value:arr.join(","),
                                buyCodes:code,
                                bai:arr[0],
                                shi:arr[1],
                                ge:arr[2],
                                buyAmount:1,
                                lmId:lmId,
                                lsTypeId:lsType,
                                buyMoney:""
                            })
                        })
                    }
                    upSelectList();
                    clearAllBall();
                }
                break;
            case 2:
                if(rules.zu6.dt.dm.length==2 && rules.zu6.dt.tm.length==0){
                    layer.alert("请至少选择1个拖码");
                    return false;
                }
                if(rules.zu6.dt.dm.length==0 && rules.zu6.dt.tm.length<3){
                    layer.alert("请至少选择1个胆码");
                    return false;
                }
                if(rules.zu6.dt.dm.length==1 && rules.zu6.dt.tm.length<2){
                    layer.alert("请选择2个拖码");
                    return false;
                }
                if(rules.zu6.dt.totals>0){
                    rules.zu6.dt.codeList.forEach((code,idx)=>{
                        var arr = code.split("");
                        selectList.push({
                            uuid:guid(),
                            huizongName:'组六单式',
                            value:arr.join(","),
                            buyCodes:code,
                            bai:arr[0],
                            shi:arr[1],
                            ge:arr[2],
                            buyAmount:1,
                            lmId:lmId,
                            lsTypeId:lsType,
                            buyMoney:""
                        })
                    })
                }
                upSelectList();
                clearAllBall();
                break;
            case 3:
                if(rules.zu6.hz.sums.length>0){
                    selectList.push({
                        uuid:guid(),
                        huizongName:'组六和值',
                        hzList:rules.zu6.hz.sums,
                        value:rules.zu6.hz.sums.join(","),
                        buyAmount:rules.zu6.hz.totals,
                        lmId:lmId,
                        lsTypeId:lsType,
                        buyMoney:"",
                        rules:rules
                    })
                    upSelectList();
                    clearAllBall();
                }
                break;

        }
    })

    function sumTotalMoney(){
        var ta = 0;
        if(selectList.length>0){
            selectList.forEach((item,idx)=>{
                ta = accAdd(ta,item.buyAmount);
            })
        }
        totalAmount = ta;
        $("#count").html(totalAmount);
        var buyMoney = $("#buyMoney").val()
        if(validateMoney(buyMoney)){
            totalMoney = buyMoney*1*totalAmount;
        }else{
            totalMoney = 0;
        }
        $("#money").html(totalMoney); //总金额
    }

    $("#buyMoney").on("keyup","",function(e){
        if(!checkPhoneBrowser()){
            if(e.key=='.' || (e.keyCode>=48 && e.key<=57) || e.keyCode==8){
                if(this.value.indexOf(".")==0){
                    this.value = this.value.substr(1,this.value.length-1);
                }
            }else{
                this.value = this.value.substr(0,this.value.length-1);
            }
        }
        if(validateMoney(this.value)){
            if(this.value!=""){
                totalMoney = this.value*1*totalAmount;
            }else{
                totalMoney = 0;
            }
        }else{
            totalMoney = 0;
        }
        $("#money").html(totalMoney); //总金额

    });


    //确认下注
    $("#confirm_buy").on("click","",function(e){
        if(selectList.length<1){
            layer.alert("请选择号码");
            return;
        }
        var buyMoney = $("#buyMoney").val();
        if(buyMoney==""){
            layer.alert("请输入下注金额");
            return;
        }
        if(!validateMoney(buyMoney)){
            layer.alert("下注金额格式错误");
            return;
        }
        selectList.forEach((item,idx)=>{
            item.buyMoney = buyMoney;
        })
        var loading = layer.msg("正在提交...",{icon:16,time:-1,shade:0.3})

        $.ajax({
            url:HOST+"draw/pc/buy3d",
            type:'post',
            data:JSON.stringify(selectList),
            success:function (res) {
                layer.close(loading);
                if(res.code==0){
                    clearList();
                    stopBuyPager.currpage=1;
                    getStopBuyCodes(0);
                    initBuyList()
                    window.parent.getCredit();
                    window.parent.reloadPrintTable();
                }else{
                    layer.alert(res.msg)
                }
            }
        })
    })


    //清空所有选中的号码
    function clearAllBall(){
        var playId = "lm-plays-" + lmId + "-" + lsType;
        $("#"+playId).find(".btn-boll").removeClass("btn-boll-active");
        $("#"+playId).find(".k3-btn-boll").removeClass("k3-btn-boll-active");
        $("#"+playId).find(".sel_info").eq(0).find("b").eq(0).html(0)
        switch (lsType) {
            case 1:
                rules.zu6.pt.totals = 0;
                rules.zu6.pt.bai='';
                rules.zu6.pt.codeList=[];
                break;
            case 2:
                rules.zu6.dt.totals = 0;
                rules.zu6.dt.dm='';
                rules.zu6.dt.tm='';
                rules.zu6.dt.codeList=[];
                break;
            case 3:
                rules.zu6.hz.totals = 0;
                rules.zu6.hz.sums=[];
                break;
            case 4:
                break;
        }
    }

    //组六号码
    function Z6Code(nums) { //重号
        console.log("===============组6号码=="+nums);
        var codeList = []
        var arr = nums.split("");
        for(var i=0;i<arr.length-2;i++){
            for(var j=i+1;j<arr.length-1;j++){
                for(var k=j+1;k<arr.length;k++) {
                    var code1 = arr[i] + "" + arr[j] + "" + arr[k];
                    codeList.push(code1);
                }
            }
        }
        return codeList;
    }

    //组六胆拖
    function dtCode(dm,tm) { //胆码
        var codeList = []
        if(dm.length==1){
            var arr = tm.split("");
            for(var i=0;i<arr.length-1;i++){
                for(var j=i+1;j<arr.length;j++) {
                    var code1 = dm + "" + arr[i] + "" + arr[j];
                    codeList.push(code1);
                }
            }
        }else if(dm.length==2){
            var dmArr = dm.split("");
            var arr = tm.split("");
            for(var i=0;i<arr.length;i++){
                var code1 = dmArr[0] + "" + dmArr[1] + "" + arr[i];
                codeList.push(code1);
            }
        }else{
            codeList = Z6Code(tm)
        }
        return codeList;
    }

    //机选
    function robotChoose(count) {
        var nums = [0,1,2,3,4,5,6,7,8,9]
        var codeList = [];
        for(var i=0;i<count;i++){
            while(true){
                var n1 = parseInt(Math.random()*10);
                var n2 = parseInt(Math.random()*10);
                var n3 = parseInt(Math.random()*10);
                if(n1!=n2 && n2!=n3 && n1!=n3){
                    code = nums[n1]+''+nums[n2]+''+nums[n3];
                    codeList.push(code);
                    break;
                }
            }
        }
        if(codeList.length>0){
            codeList.forEach((code,idx)=>{
                var arr = code.split("")
                selectList.push({
                    uuid:guid(),
                    huizongName:'组六单式',
                    value:arr.join(","),
                    bai:arr[0],
                    shi:arr[1],
                    ge:arr[2],
                    buyCodes:code,
                    buyAmount:1,
                    lmId:lmId,
                    lsTypeId:1,
                    buyMoney:"",
                    rules:rules
                })
                upSelectList();
                clearAllBall();
            })
        }

    }

</script>

</body>
</html>
